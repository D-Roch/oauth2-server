-@ val title: String
-@ val body: String
-@ val userOption: Option[io.backchat.oauth2.model.ResourceOwner] = None
-@ val user: io.backchat.oauth2.model.ResourceOwner = null

!!! 5
html
  head
    title= title
    meta(charset="utf-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(rel='stylesheet' href='/css/bootstrap.min.css')
    :css
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    link(rel='stylesheet' href='/css/bootstrap-responsive.min.css')
    link(rel='stylesheet' href='/css/app.css')
  body
    div.navbar.navbar-fixed-top
      div.navbar-inner
        div.container
          a.btn.btn-navbar(data-toggle="collapse" data-target=".nav-collapse")
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.brand(href="/")= title
          div.nav-collapse
            ul.nav
              li
                a(href="/") Home
              - if (isAuthenticated) 
                li.dropdown#clients-menu
                  a.dropdown-toggle(href="#clients-menu" data-toggle="dropdown")
                    | Clients
                    b.caret
                  ul.dropdown-menu
                    li
                      a(href="/clients") List
                      a(href="/clients/new") Create
          div.nav-collapse.pull-right  
            ul.nav
              - if (isAnonymous)
                li
                  a(href="/login") Login
                li
                  a(href="/register") Sign up
              - else
                li
                  p.navbar-text Logged in as #{user.name}
                li.divider-vertical
                li
                  a(href="/logout") Logout
                li.divider-vertical



    div.container
      - if (flash.get("success").isDefined)
        div.alert.alert-success
          a.close(data-dismiss="alert") ×
          != flash("success")
      - if (flash.get("info").isDefined)
        div.alert.alert-info
          a.close(data-dismiss="alert") ×
          != flash("info")
      - if (flash.get("warn").isDefined)
        div.alert.alert-success
          a.close(data-dismiss="alert") ×
          != flash("warn")
      - if (flash.get("error").isDefined)
        div.alert.alert-error
          a.close(data-dismiss="alert") ×
          != flash("error")
      != body


    script(src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js")
    script(src="http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js")
    script(src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.0.2/bootstrap.min.js")
    scritp(src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.3.1/underscore-min.js")  
    script(src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js")
    script(src='http://static.ak.fbcdn.net/connect/en_US/core.js')

